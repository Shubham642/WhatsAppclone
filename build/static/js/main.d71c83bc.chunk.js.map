{"version":3,"sources":["Components/UserProfile.js","firebase.js","Components/Sidebar.js","Components/Home.js","Components/ChatMessage.js","Components/Chatcontainer.js","Components/ChatPage.js","Components/Login.js","App.js","reportWebVitals.js","index.js"],"names":["UserProfile","name","photoURL","email","lastMessage","navigate","useNavigate","className","onClick","emailId","src","alt","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","googleProvider","GoogleAuthProvider","Sidebar","currentUser","signOut","useState","allUsers","setAllUsers","searchInput","setSearchInput","friendList","setFriendList","useEffect","getAllUsers","a","collection","onSnapshot","snapshot","docs","filter","doc","data","getFriends","searchItem","user","fullname","toLowerCase","includes","map","id","type","placeholder","value","onChange","e","target","length","friend","Home","ChatMessage","message","time","sender","style","alignSelf","backgroundColor","Date","toDate","toLocaleString","Chatcontainer","setMessage","openEmojiBox","setOpenEmojiBox","emailID","useParams","chatUser","setChatUser","chatBox","useRef","chatMessages","setChatMessages","getUser","getMessages","orderBy","newMessage","senderEmail","receiverEmail","current","addEventListener","event","currentTarget","scroll","top","scrollHeight","behavior","send","preventDefault","payload","text","timeStamp","Timestamp","now","add","set","ref","onEmojiClick","emojiObject","emoji","onSubmit","ChatPage","Login","setUser","signInWithPopup","then","result","newUser","displayName","localStorage","setItem","JSON","stringify","catch","err","alert","App","parse","getItem","removeItem","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"igBA0BeA,MAtBf,YAA8D,IAAvCC,EAAsC,EAAtCA,KAAMC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,YACtCC,EAAWC,cAMjB,OACE,sBAAKC,UAAU,eAAeC,QAAS,WANxB,IAACC,KAMsCN,IAJpDE,EAAS,IAAD,OAAKI,KAIf,UAEE,qBAAKF,UAAU,aAAf,SACE,qBAAKG,IAAKR,EAAUS,IAAI,OAG1B,sBAAKJ,UAAU,YAAf,UACE,mBAAGA,UAAU,YAAb,SAA0BN,IACzBG,GAAe,mBAAGG,UAAU,mBAAb,SAAiCH,W,QCTnDQ,EAAMC,IAASC,cATE,CACrBC,OAAQ,0CACRC,WAAY,iCACZC,UAAW,iBACXC,cAAe,6BACfC,kBAAmB,gBACnBC,MAAO,6CACPC,cAAe,iBAIXC,EAAOT,IAASS,OAEhBC,EAAKX,EAAIY,YAETC,EAAiB,IAAIZ,IAASS,KAAKI,mBAI1BH,IC6EAI,MA1Ff,YAA4C,IAAzBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QAAW,EACTC,mBAAS,IADA,mBAClCC,EADkC,KACxBC,EADwB,OAEHF,mBAAS,IAFN,mBAElCG,EAFkC,KAErBC,EAFqB,OAGLJ,mBAAS,IAHJ,mBAGlCK,EAHkC,KAGtBC,EAHsB,KAIzCC,qBAAU,WACR,IAAMC,EAAW,uCAAG,sBAAAC,EAAA,sEACChB,EAAGiB,WAAW,SAASC,YAAW,SAACC,GACpDV,EACEU,EAASC,KAAKC,QAAO,SAACC,GAAD,OAASA,EAAIC,OAAO3C,SAAX,OAAqByB,QAArB,IAAqBA,OAArB,EAAqBA,EAAazB,cAHlD,yDAAH,qDAQX4C,EAAU,uCAAG,sBAAAR,EAAA,sEACEhB,EAChBiB,WAAW,cACXK,IAAIjB,EAAYzB,OAChBqC,WAAW,QACXC,YAAW,SAACC,GACXN,EAAcM,EAASC,SANV,yDAAH,qDAUhBL,IACAS,MACC,IAEH,IAUMC,EAVejB,EAASa,QAAO,SAACK,GACpC,GAAIhB,GAEAgB,EAAKH,OAAOI,SAASC,cAAcC,SAASnB,EAAYkB,eAExD,OAAOF,KAKmBI,KAAI,SAACJ,GACnC,OACE,cAAC,EAAD,CACEhD,KAAMgD,EAAKH,OAAOI,SAClBhD,SAAU+C,EAAKH,OAAO5C,SAEtBC,MAAO8C,EAAKH,OAAO3C,OADd8C,EAAKK,OAMhB,OACE,sBAAK/C,UAAU,UAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,qBAAqBC,QAASqB,EAA7C,SACE,qBAAKnB,IAAG,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAa1B,SAAUS,IAAI,OAEvC,sBAAKJ,UAAU,qBAAf,UACE,cAAC,IAAD,IACA,cAAC,IAAD,IACA,cAAC,IAAD,UAIJ,qBAAKA,UAAU,iBAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,cAAC,IAAD,IACA,uBACEgD,KAAK,OACLtD,KAAK,SACLuD,YAAY,YACZC,MAAOxB,EACPyB,SAAU,SAACC,GAAD,OAAOzB,EAAeyB,EAAEC,OAAOH,eAK/C,qBAAKlD,UAAU,oBAAf,SACGyC,EAAWa,OAAS,EACjBb,EACAb,EAAWkB,KAAI,SAACS,GAAD,OACb,cAAC,EAAD,CACE7D,KAAM6D,EAAOhB,OAAOI,SACpBhD,SAAU4D,EAAOhB,OAAO5C,SACxBE,YAAa0D,EAAOhB,OAAO1C,YAC3BD,MAAO2D,EAAOhB,OAAO3C,iBCvEtB4D,MAff,YAAyC,IAAzBnC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QAC3B,OACE,qBAAKtB,UAAU,OAAf,SACE,sBAAKA,UAAU,iBAAf,UAEE,cAAC,EAAD,CAASqB,YAAaA,EAAaC,QAASA,IAE5C,qBAAKtB,UAAU,UAAf,SACE,qBAAKG,IAAI,mBAAmBC,IAAI,a,iECa3BqD,MAtBf,YAAiD,IAAD,IAAzBC,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,OACpC,OACE,sBACE5D,UAAU,eACV6D,MAAO,CACLC,UACEF,KAAM,OAAK7C,QAAL,IAAKA,GAAL,UAAKA,EAAMM,mBAAX,aAAK,EAAmBzB,OAAQ,WAAa,aAErDmE,gBACEH,IAAM,OAAI7C,QAAJ,IAAIA,GAAJ,UAAIA,EAAMM,mBAAV,aAAI,EAAmBzB,OAAQ,UAAY,QAPvD,UAUE,qBAAKI,UAAU,oBAAf,SACE,4BAAI0D,MAEN,qBAAK1D,UAAU,oBAAf,SACE,4BAAI,IAAIgE,KAAKL,EAAKM,UAAUC,yB,iBCmJrBC,MAzJf,YAAyC,IAAhB9C,EAAe,EAAfA,YAAe,EACRE,mBAAS,IADD,mBAC/BmC,EAD+B,KACtBU,EADsB,OAEE7C,oBAAS,GAFX,mBAE/B8C,EAF+B,KAEjBC,EAFiB,KAG9BC,EAAYC,cAAZD,QAH8B,EAINhD,mBAAS,IAJH,mBAI/BkD,EAJ+B,KAIrBC,EAJqB,KAKhCC,EAAUC,iBAAO,MALe,EAMErD,mBAAS,IANX,mBAM/BsD,EAN+B,KAMjBC,EANiB,KAOtChD,qBAAU,WACR,IAAMiD,EAAO,uCAAG,sBAAA/C,EAAA,sEACKhB,EAChBiB,WAAW,SACXK,IAAIiC,GACJrC,YAAW,SAACC,GACXuC,EAAYvC,EAASI,WALX,yDAAH,qDASPyC,EAAW,uCAAG,sBAAAhD,EAAA,sEACChB,EAChBiB,WAAW,SACXK,IAAIiC,GACJtC,WAAW,YACXgD,QAAQ,YAAa,OACrB/C,YAAW,SAACC,GACX,IAEI+C,EAFW/C,EAASC,KAAKU,KAAI,SAACR,GAAD,OAASA,EAAIC,UAEpBF,QACxB,SAACqB,GAAD,OACEA,EAAQyB,eAAiB9D,EAAYzB,OAAS2E,IAC9Cb,EAAQ0B,iBAAmB/D,EAAYzB,OAAS2E,MAGpDO,EAAgBI,MAfF,yDAAH,qDAkBjBH,IACAC,MACC,CAACT,IAEJzC,qBAAU,WACR6C,EAAQU,QAAQC,iBAAiB,mBAAmB,SAACC,GAAW,IACvClC,EAAWkC,EAA1BC,cACRnC,EAAOoC,OAAO,CAAEC,IAAKrC,EAAOsC,aAAcC,SAAU,gBAErD,CAACf,IAEJ,IAAMgB,EAAO,SAACzC,GAGZ,GAFAA,EAAE0C,iBAEEvB,EAAS,CACX,IAAIwB,EAAU,CACZC,KAAMtC,EACNyB,YAAa9D,EAAYzB,MACzBwF,cAAeb,EACf0B,UAAW3F,IAASW,UAAUiF,UAAUC,OAG1CnF,EAAGiB,WAAW,SACXK,IAAIjB,EAAYzB,OAChBqC,WAAW,YACXmE,IAAIL,GAGP/E,EAAGiB,WAAW,SAASK,IAAIiC,GAAStC,WAAW,YAAYmE,IAAIL,GAE/D/E,EAAGiB,WAAW,cACXK,IAAIjB,EAAYzB,OAChBqC,WAAW,QACXK,IAAIiC,GACJ8B,IAAI,CACHzG,MAAO6E,EAAS7E,MAChB+C,SAAU8B,EAAS9B,SACnBhD,SAAU8E,EAAS9E,SACnBE,YAAa6D,IAGjB1C,EAAGiB,WAAW,cACXK,IAAIiC,GACJtC,WAAW,QACXK,IAAIjB,EAAYzB,OAChByG,IAAI,CACHzG,MAAOyB,EAAYzB,MACnB+C,SAAUtB,EAAYsB,SACtBhD,SAAU0B,EAAY1B,SACtBE,YAAa6D,IAGjBU,EAAW,MAIf,OACE,sBAAKpE,UAAU,iBAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,qBAAKA,UAAU,gBAAf,SACE,qBAAKG,IAAG,OAAEsE,QAAF,IAAEA,OAAF,EAAEA,EAAU9E,SAAUS,IAAI,OAEpC,mCAAIqE,QAAJ,IAAIA,OAAJ,EAAIA,EAAU9B,cAGhB,qBAAK3C,UAAU,4BAAf,SACE,cAAC,IAAD,SAMJ,qBAAKA,UAAU,yBAAyBsG,IAAK3B,EAA7C,SACGE,EAAa/B,KAAI,SAACY,GAAD,OAChB,cAAC,EAAD,CACEA,QAASA,EAAQsC,KACjBrC,KAAMD,EAAQuC,UACdrC,OAAQF,EAAQyB,mBAMtB,sBAAKnF,UAAU,aAAf,UAEGqE,GACC,cAAC,IAAD,CACEkC,aAAc,SAAChB,EAAOiB,GAAR,OACZpC,EAAWV,EAAU8C,EAAYC,UAKvC,sBAAKzG,UAAU,iBAAf,UACE,cAAC,IAAD,CAAoBC,QAAS,kBAAMqE,GAAiBD,MACpD,cAAC,IAAD,OAGF,sBAAMqC,SAAUb,EAAhB,SACE,uBACE7C,KAAK,OACLC,YAAY,iBACZC,MAAOQ,EACPP,SAAU,SAACC,GACTgB,EAAWhB,EAAEC,OAAOH,YAK1B,qBAAKlD,UAAU,sBAAsBC,QAAS4F,EAA9C,SACE,cAAC,IAAD,a,MC9IKc,MAbf,YAA6C,IAAzBtF,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QAC/B,OACE,qBAAKtB,UAAU,WAAf,SACE,sBAAKA,UAAU,qBAAf,UAEE,cAAC,EAAD,CAASqB,YAAaA,EAAaC,QAASA,IAE5C,cAAC,EAAD,CAAeD,YAAaA,U,MC2BrBuF,MAjCf,YAA6B,IAAZC,EAAW,EAAXA,QACT/G,EAAWC,cAkBjB,OACE,qBAAKC,UAAU,QAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,aAAaG,IAAI,sBAAsBC,IAAI,KAC1D,mBAAGJ,UAAU,aAAb,0BACA,yBAAQA,UAAU,YAAYC,QAtBX,WACvBc,EACG+F,gBAAgB5F,GAChB6F,MAAK,SAACC,GACL,IAAMC,EAAU,CACdtE,SAAUqE,EAAOtE,KAAKwE,YACtBtH,MAAOoH,EAAOtE,KAAK9C,MACnBD,SAAUqH,EAAOtE,KAAK/C,UAExBG,EAAS,KACT+G,EAAQI,GACRE,aAAaC,QAAQ,OAAQC,KAAKC,UAAUL,IAC5CjG,EAAGiB,WAAW,SAASK,IAAI0E,EAAOtE,KAAK9C,OAAOyG,IAAIY,MAEnDM,OAAM,SAACC,GAAD,OAASC,MAAMD,EAAI9D,aAQxB,UACE,qBAAKvD,IAAI,oBAAoBC,IAAI,sBADnC,6BCaOsH,MAlCf,WAAgB,IAAD,EACWnG,mBAAS8F,KAAKM,MAAMR,aAAaS,QAAQ,UADpD,mBACNlF,EADM,KACAmE,EADA,KAGPvF,EAAU,WACdP,EACGO,UACAyF,MAAK,WACJF,EAAQ,MACRM,aAAaU,WAAW,WAEzBN,OAAM,SAACC,GAAD,OAASC,MAAMD,EAAI9D,aAE9B,OACE,cAAC,IAAD,UACE,qBAAK1D,UAAU,MAAf,SACG0C,EACC,eAAC,IAAD,WACE,cAAC,IAAD,CACEoF,KAAK,YACLC,QAAS,cAAC,EAAD,CAAU1G,YAAaqB,EAAMpB,QAASA,MAEjD,cAAC,IAAD,CACEwG,KAAK,IACLC,QAAS,cAAC,EAAD,CAAM1G,YAAaqB,EAAMpB,QAASA,SAI/C,cAAC,EAAD,CAAOuF,QAASA,SCvBXmB,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBnB,MAAK,YAAkD,IAA/CoB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.d71c83bc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport \"./UserProfile.css\";\r\nfunction UserProfile({ name, photoURL, email, lastMessage }) {\r\n  const navigate = useNavigate();\r\n  const goToUser = (emailId) => {\r\n    if (emailId) {\r\n      navigate(`/${emailId}`);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"user-profile\" onClick={() => goToUser(email)}>\r\n      {/* img of user */}\r\n      <div className=\"user-image\">\r\n        <img src={photoURL} alt=\"\" />\r\n      </div>\r\n      {/* name of user */}\r\n      <div className=\"user-info\">\r\n        <p className=\"user-name\">{name}</p>\r\n        {lastMessage && <p className=\"user-lastmessage\">{lastMessage}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB5YWd4VxexGoq07YhHvcJ7iQMTx8sns8g\",\r\n  authDomain: \"wa-clone-3d0ac.firebaseapp.com\",\r\n  projectId: \"wa-clone-3d0ac\",\r\n  storageBucket: \"wa-clone-3d0ac.appspot.com\",\r\n  messagingSenderId: \"1063295852452\",\r\n  appId: \"1:1063295852452:web:48d743e71d589b253fab31\",\r\n  measurementId: \"G-408XWE4QW8\"\r\n};\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth();\r\n\r\nconst db = app.firestore();\r\n\r\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport { auth, googleProvider };\r\n\r\nexport default db;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport TollIcon from \"@mui/icons-material/Toll\";\r\nimport InsertCommentIcon from \"@mui/icons-material/InsertComment\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport SearchIcon from \"@mui/icons-material/Search\";\r\nimport \"./Sidebar.css\";\r\nimport UserProfile from \"./UserProfile\";\r\nimport db from \"../firebase\";\r\nfunction Sidebar({ currentUser, signOut }) {\r\n  const [allUsers, setAllUsers] = useState([]);\r\n  const [searchInput, setSearchInput] = useState(\"\");\r\n  const [friendList, setFriendList] = useState([]);\r\n  useEffect(() => {\r\n    const getAllUsers = async () => {\r\n      const data = await db.collection(\"users\").onSnapshot((snapshot) => {\r\n        setAllUsers(\r\n          snapshot.docs.filter((doc) => doc.data().email !== currentUser?.email)\r\n        );\r\n      });\r\n    };\r\n\r\n    const getFriends = async () => {\r\n      const data = await db\r\n        .collection(\"Friendlist\")\r\n        .doc(currentUser.email)\r\n        .collection(\"list\")\r\n        .onSnapshot((snapshot) => {\r\n          setFriendList(snapshot.docs);\r\n        });\r\n    };\r\n\r\n    getAllUsers();\r\n    getFriends();\r\n  }, []);\r\n\r\n  const searchedUser = allUsers.filter((user) => {\r\n    if (searchInput) {\r\n      if (\r\n        user.data().fullname.toLowerCase().includes(searchInput.toLowerCase())\r\n      ) {\r\n        return user;\r\n      }\r\n    }\r\n  });\r\n\r\n  const searchItem = searchedUser.map((user) => {\r\n    return (\r\n      <UserProfile\r\n        name={user.data().fullname}\r\n        photoURL={user.data().photoURL}\r\n        key={user.id}\r\n        email={user.data().email}\r\n      />\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar-header\">\r\n        <div className=\"sidebar-header-img\" onClick={signOut}>\r\n          <img src={currentUser?.photoURL} alt=\"\" />\r\n        </div>\r\n        <div className=\"sidebar-header-btn\">\r\n          <TollIcon />\r\n          <InsertCommentIcon />\r\n          <MoreVertIcon />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"sidebar-search\">\r\n        <div className=\"sidebar-search-input\">\r\n          <SearchIcon />\r\n          <input\r\n            type=\"text\"\r\n            name=\"search\"\r\n            placeholder=\"Search...\"\r\n            value={searchInput}\r\n            onChange={(e) => setSearchInput(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"sidebar-chat-list\">\r\n        {searchItem.length > 0\r\n          ? searchItem\r\n          : friendList.map((friend) => (\r\n              <UserProfile\r\n                name={friend.data().fullname}\r\n                photoURL={friend.data().photoURL}\r\n                lastMessage={friend.data().lastMessage}\r\n                email={friend.data().email}\r\n              />\r\n            ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport \"./Home.css\";\r\nimport Sidebar from \"./Sidebar\";\r\n\r\nfunction Home({ currentUser, signOut }) {\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home-container\">\r\n        {/* SideBar */}\r\n        <Sidebar currentUser={currentUser} signOut={signOut} />\r\n        {/* a container with whatsapp-logo */}\r\n        <div className=\"home-bg\">\r\n          <img src=\"./WhatsAppbg.png\" alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { auth } from \"../firebase\";\r\nimport \"./ChatMessage.css\";\r\nfunction ChatMessage({ message, time, sender }) {\r\n  return (\r\n    <div\r\n      className=\"chat-message\"\r\n      style={{\r\n        alignSelf:\r\n          sender === auth?.currentUser?.email ? \"flex-end\" : \"flex-start\",\r\n\r\n        backgroundColor:\r\n          sender == auth?.currentUser?.email ? \"#dcf8c6\" : \"#fff\",\r\n      }}\r\n    >\r\n      <div className=\"chat-message-text\">\r\n        <p>{message}</p>\r\n      </div>\r\n      <div className=\"chat-message-date\">\r\n        <p>{new Date(time.toDate()).toLocaleString()}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatMessage;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"./Chatcontainer.css\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\nimport InsertEmoticonIcon from \"@mui/icons-material/InsertEmoticon\";\r\nimport AttachFileIcon from \"@mui/icons-material/AttachFile\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport \"./Chatcontainer.css\";\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport Picker from \"emoji-picker-react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport db from \"../firebase\";\r\nimport firebase from \"firebase\";\r\n\r\nfunction Chatcontainer({ currentUser }) {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [openEmojiBox, setOpenEmojiBox] = useState(false);\r\n  const { emailID } = useParams();\r\n  const [chatUser, setChatUser] = useState({});\r\n  const chatBox = useRef(null);\r\n  const [chatMessages, setChatMessages] = useState([]);\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      const data = await db\r\n        .collection(\"users\")\r\n        .doc(emailID)\r\n        .onSnapshot((snapshot) => {\r\n          setChatUser(snapshot.data());\r\n        });\r\n    };\r\n\r\n    const getMessages = async () => {\r\n      const data = await db\r\n        .collection(\"chats\")\r\n        .doc(emailID)\r\n        .collection(\"messages\")\r\n        .orderBy(\"timeStamp\", \"asc\")\r\n        .onSnapshot((snapshot) => {\r\n          let messages = snapshot.docs.map((doc) => doc.data());\r\n\r\n          let newMessage = messages.filter(\r\n            (message) =>\r\n              message.senderEmail === (currentUser.email || emailID) ||\r\n              message.receiverEmail === (currentUser.email || emailID)\r\n          );\r\n\r\n          setChatMessages(newMessage);\r\n        });\r\n    };\r\n    getUser();\r\n    getMessages();\r\n  }, [emailID]);\r\n\r\n  useEffect(() => {\r\n    chatBox.current.addEventListener(\"DOMNodeInserted\", (event) => {\r\n      const { currentTarget: target } = event;\r\n      target.scroll({ top: target.scrollHeight, behavior: \"smooth\" });\r\n    });\r\n  }, [chatMessages]);\r\n\r\n  const send = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (emailID) {\r\n      let payload = {\r\n        text: message,\r\n        senderEmail: currentUser.email,\r\n        receiverEmail: emailID,\r\n        timeStamp: firebase.firestore.Timestamp.now(),\r\n      };\r\n      // sender\r\n      db.collection(\"chats\")\r\n        .doc(currentUser.email)\r\n        .collection(\"messages\")\r\n        .add(payload);\r\n\r\n      // reciever\r\n      db.collection(\"chats\").doc(emailID).collection(\"messages\").add(payload);\r\n\r\n      db.collection(\"Friendlist\")\r\n        .doc(currentUser.email)\r\n        .collection(\"list\")\r\n        .doc(emailID)\r\n        .set({\r\n          email: chatUser.email,\r\n          fullname: chatUser.fullname,\r\n          photoURL: chatUser.photoURL,\r\n          lastMessage: message,\r\n        });\r\n\r\n      db.collection(\"Friendlist\")\r\n        .doc(emailID)\r\n        .collection(\"list\")\r\n        .doc(currentUser.email)\r\n        .set({\r\n          email: currentUser.email,\r\n          fullname: currentUser.fullname,\r\n          photoURL: currentUser.photoURL,\r\n          lastMessage: message,\r\n        });\r\n\r\n      setMessage(\"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      <div className=\"chat-container-header\">\r\n        <div className=\"chat-user-info\">\r\n          <div className=\"chat-user-img\">\r\n            <img src={chatUser?.photoURL} alt=\"\" />\r\n          </div>\r\n          <p>{chatUser?.fullname}</p>\r\n        </div>\r\n\r\n        <div className=\"chat-container-header-btn\">\r\n          <MoreVertIcon />\r\n        </div>\r\n      </div>\r\n\r\n      {/* chatdisplay-container */}\r\n\r\n      <div className=\"chat-display-container\" ref={chatBox}>\r\n        {chatMessages.map((message) => (\r\n          <ChatMessage\r\n            message={message.text}\r\n            time={message.timeStamp}\r\n            sender={message.senderEmail}\r\n          />\r\n        ))}\r\n      </div>\r\n      {/* chatinput */}\r\n\r\n      <div className=\"chat-input\">\r\n        {/* buttons */}\r\n        {openEmojiBox && (\r\n          <Picker\r\n            onEmojiClick={(event, emojiObject) =>\r\n              setMessage(message + emojiObject.emoji)\r\n            }\r\n          />\r\n        )}\r\n\r\n        <div className=\"chat-input-btn\">\r\n          <InsertEmoticonIcon onClick={() => setOpenEmojiBox(!openEmojiBox)} />\r\n          <AttachFileIcon />\r\n        </div>\r\n        {/* text input element */}\r\n        <form onSubmit={send}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Type a Message\"\r\n            value={message}\r\n            onChange={(e) => {\r\n              setMessage(e.target.value);\r\n            }}\r\n          />\r\n        </form>\r\n        {/* send button */}\r\n        <div className=\"chat-input-send-btn\" onClick={send}>\r\n          <SendIcon />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chatcontainer;\r\n","import React from \"react\";\r\nimport Chatcontainer from \"./Chatcontainer\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport \"./ChatPage.css\";\r\nfunction ChatPage({ currentUser, signOut }) {\r\n  return (\r\n    <div className=\"chatpage\">\r\n      <div className=\"chatpage-container\">\r\n        {/* sidebar */}\r\n        <Sidebar currentUser={currentUser} signOut={signOut} />\r\n        {/* chatcontainer */}\r\n        <Chatcontainer currentUser={currentUser} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatPage;\r\n","import React from \"react\";\r\nimport db, { auth, googleProvider } from \"../firebase\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\n\r\nfunction Login({ setUser }) {\r\n  const navigate = useNavigate();\r\n  const signInWithGoogle = () => {\r\n    auth\r\n      .signInWithPopup(googleProvider)\r\n      .then((result) => {\r\n        const newUser = {\r\n          fullname: result.user.displayName,\r\n          email: result.user.email,\r\n          photoURL: result.user.photoURL,\r\n        };\r\n        navigate(\"/\");\r\n        setUser(newUser);\r\n        localStorage.setItem(\"user\", JSON.stringify(newUser));\r\n        db.collection(\"users\").doc(result.user.email).set(newUser);\r\n      })\r\n      .catch((err) => alert(err.message));\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login-container\">\r\n        <img className=\"login-logo\" src=\"./whatsapp-logo.png\" alt=\"\" />\r\n        <p className=\"login-name\">WhatsApp Web</p>\r\n        <button className=\"login-btn\" onClick={signInWithGoogle}>\r\n          <img src=\"./google-logo.png\" alt=\"login with google\" />\r\n          Login with Google\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import \"./App.css\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\nimport Home from \"./Components/Home\";\r\n\r\nimport ChatPage from \"./Components/ChatPage\";\r\nimport { useState } from \"react\";\r\nimport Login from \"./Components/Login\";\r\nimport { auth } from \"./firebase\";\r\nfunction App() {\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"user\")));\r\n\r\n  const signOut = () => {\r\n    auth\r\n      .signOut()\r\n      .then(() => {\r\n        setUser(null);\r\n        localStorage.removeItem(\"user\");\r\n      })\r\n      .catch((err) => alert(err.message));\r\n  };\r\n  return (\r\n    <Router>\r\n      <div className=\"App\">\r\n        {user ? (\r\n          <Routes>\r\n            <Route\r\n              path=\"/:emailID\"\r\n              element={<ChatPage currentUser={user} signOut={signOut} />}\r\n            />\r\n            <Route\r\n              path=\"/\"\r\n              element={<Home currentUser={user} signOut={signOut} />}\r\n            />\r\n          </Routes>\r\n        ) : (\r\n          <Login setUser={setUser} />\r\n        )}\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}